(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),c=n(9),l=n.n(c),r=(n(14),n(15),n(6)),o=n(4),s=n(2),h=n(7),u=function(){var e={},t=new Map,n={},i={};return{placeShip:function(n,i){var a,c=Object(h.a)(i);try{for(c.s();!(a=c.n()).done;){var l=a.value;e[l]=n,t.has(n)?t.set(n,[].concat(Object(r.a)(t.get(n)),[l])):t.set(n,[l])}}catch(o){c.e(o)}finally{c.f()}},receiveAttack:function(a){if(a in e){var c=e[a],l=t.get(c).findIndex((function(e){return e==a}));return i[a]=!0,c.hit(l)}n[a]=!0},allShipsSunk:function(){var e=!1;return t.forEach((function(t,n){!1===n.isSunk()&&(e=!0)})),!e},gridPlacements:e,shipIndexes:t,shotsMissed:n,shotsLanded:i}},d=(n(16),n(0)),p=function(){return Object(d.jsx)("div",{id:"header",children:Object(d.jsx)("h1",{children:"battleship"})})},f=(n(18),n(19),n(20),function(e){var t=e.cellData,n=e.handleHit,i=e.playerTurn,a=e.handleCellSelection,c=e.cellsSelected,l=e.removeCellSelection,r=e.cellClickFunction,o=e.gameBegun,s=t.id,h=t.containsShip,u=t.hit,p=t.miss;return Object(d.jsx)("div",{id:s,className:"".concat(h?"ship":""," ").concat(u?"hit":""," ").concat(p?"miss":""," ").concat(c.includes(s)?"hovered":"","\n        ").concat(1===c.length&&c[0]===s?"not-allowed":""),onMouseOver:o?null:a,onMouseLeave:o?null:l,onClick:o?!i||u||p?null:function(e){return n(e)}:r})}),S=function(e){return Object(d.jsx)("div",{id:"grid",children:e.grid.map((function(t){return Object(d.jsx)(f,{cellData:t,handleHit:e.handleHit,playerTurn:e.playerTurn,handleCellSelection:e.handleCellSelection,cellsSelected:e.cellsSelected,removeCellSelection:e.removeCellSelection,handleShipPlacement:e.handleShipPlacement,cellClickFunction:e.cellClickFunction,gameBegun:e.gameBegun})}))})},b=function(e){var t=e.playerTurn,n=!t;return Object(d.jsxs)("div",{id:"grid-container",children:[Object(d.jsx)(S,{grid:e.playerGrid,handleHit:e.handleHit,playerTurn:n,selectedShip:e.selectedShip,handleCellSelection:e.handleCellSelection,cellsSelected:e.cellsSelected,removeCellSelection:e.removeCellSelection,handleShipPlacement:e.handleShipPlacement,cellClickFunction:e.cellClickFunction,gameBegun:e.gameBegun}),e.gameBegun?Object(d.jsx)(S,{grid:e.computerGrid,handleHit:e.handleHit,playerTurn:t,cellsSelected:e.cellsSelected,gameBegun:e.gameBegun}):null]})},j=(n(21),function(e){return Object(d.jsx)("div",{className:"ship ".concat(e.orientation," ").concat(e.selectedShip===e.shipName?"selected":""),id:e.shipName,onClick:e.handleShipSelection})}),m=(n(22),function(e){return Object(d.jsxs)("div",{id:"controls",children:[Object(d.jsx)("div",{id:"text",children:Object(d.jsx)("p",{children:e.gameMessage})}),Object(d.jsx)("div",{id:"ship-container",children:Object.keys(e.playerShips).map((function(t){return Object(d.jsx)(j,{shipName:t,orientation:e.playerShips[t],selectedShip:e.selectedShip,handleShipSelection:e.handleShipSelection})}))}),e.gameBegun?null:Object(d.jsx)("div",{id:"button-container",children:Object(d.jsx)("button",{id:"rotate-ship-btn",onClick:e.rotateShips,children:"ROTATE SHIPS"})})]})}),v=(n(23),function(e){return Object(d.jsx)("div",{id:"game-over-modal",children:Object(d.jsxs)("div",{class:"modal-content",children:[Object(d.jsx)("p",{children:e.victoryMessage}),Object(d.jsx)("button",{id:"restart-game-btn",onClick:e.handleRestartGame,children:"Play Again?"})]})})}),O=(n(24),function(e){return Object(d.jsxs)("div",{id:"display-container",children:[Object(d.jsx)(p,{}),Object(d.jsx)(m,{playerShips:e.playerShips,rotateShips:e.rotateShips,selectedShip:e.selectedShip,handleShipSelection:e.handleShipSelection,gameBegun:e.gameBegun,gameMessage:e.gameMessage}),Object(d.jsx)(b,{handleHit:e.handleHit,playerGrid:e.playerGrid,computerGrid:e.computerGrid,playerTurn:e.playerTurn,gameBegun:e.gameBegun,selectedShip:e.selectedShip,handleCellSelection:e.handleCellSelection,cellsSelected:e.cellsSelected,removeCellSelection:e.removeCellSelection,handleShipPlacement:e.handleShipPlacement,cellClickFunction:e.cellClickFunction}),e.modalActive?Object(d.jsx)(v,{victoryMessage:e.victoryMessage,handleRestartGame:e.handleRestartGame}):null]})}),g=function(e){var t=new Array(e).fill(null);return{length:e,hitArray:t,hit:function(e){t[e]="X"},isSunk:function(){return t.every((function(e){return"X"===e}))}}},y=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],n=0;n<100;n++){var i={};i.id=n,e&&e[n]&&(i.containsShip=!0),t.push(i)}return t},k=function(e,t,n,i){var a=parseInt(e),c=[a],l=!0;if("horizontal"===n)switch(t){case 5:if(!e.match(/[0-5]$/)&&!e.match(/.[0-5]$/)||i[a].containsShip)l=!1;else for(var r=1;r<t;r++){if(i[a+r].containsShip){l=!1;break}c.push(a+r)}break;case 4:if(!e.match(/[0-6]$/)&&!e.match(/.[0-6]$/)||i[a].containsShip)l=!1;else for(var o=1;o<t;o++){if(i[a+o].containsShip){l=!1;break}c.push(a+o)}break;case 3:if(!e.match(/[0-7]$/)&&!e.match(/.[0-7]$/)||i[a].containsShip)l=!1;else for(var s=1;s<t;s++){if(i[a+s].containsShip){l=!1;break}c.push(a+s)}break;case 2:if(!e.match(/[0-8]$/)&&!e.match(/.[0-8]$/)||i[a].containsShip)l=!1;else for(var h=1;h<t;h++){if(i[a+h].containsShip){l=!1;break}c.push(a+h)}}else switch(t){case 5:if(!e.match(/^[0-9]$/)&&!e.match(/[1-5].$/)||i[a].containsShip)l=!1;else for(var u=1;u<t;u++){if(i[a+10*u].containsShip){l=!1;break}c.push(a+10*u)}break;case 4:if(!e.match(/^[0-9]$/)&&!e.match(/[0-6].$/)||i[a].containsShip)l=!1;else for(var d=1;d<t;d++){if(i[a+10*d].containsShip){l=!1;break}c.push(a+10*d)}break;case 3:if(!e.match(/^[0-9]$/)&&!e.match(/[0-7].$/)||i[a].containsShip)l=!1;else for(var p=1;p<t;p++){if(i[a+10*p].containsShip){l=!1;break}c.push(a+10*p)}break;case 2:if(!e.match(/^[0-9]$/)&&!e.match(/[0-8].$/)||i[a].containsShip)l=!1;else for(var f=1;f<t;f++){if(i[a+10*f].containsShip){l=!1;break}c.push(a+10*f)}}return!!l&&c},x=(n(25),function(){var e=Object(i.useState)(u()),t=Object(s.a)(e,2),n=t[0],a=t[1],c=function(){var e=function(){for(var e=[],t=y(),n={},i=0,a=[5,4,3,3,2];i<a.length;i++){for(var c=a[i],l=!1,r=[];!l;){var o=Math.floor(100*Math.random()),s=Math.floor(2*Math.random())>0?"horizontal":"vertical";l=!!(r=k(o.toString(),c,s,t))}var u,d=Object(h.a)(r);try{for(d.s();!(u=d.n()).done;)n[u.value]=!0}catch(p){d.e(p)}finally{d.f()}t=y(n),e.push(r)}return e}(),t=g(5),n=g(4),i=g(3),a=g(3),c=g(2),l=u();return l.placeShip(t,e[0]),l.placeShip(n,e[1]),l.placeShip(i,e[2]),l.placeShip(a,e[3]),l.placeShip(c,e[4]),l},l=Object(i.useState)(c()),p=Object(s.a)(l,2),f=p[0],S=p[1],b=Object(i.useState)(!0),j=Object(s.a)(b,2),m=j[0],v=j[1],x=Object(i.useState)(!1),C=Object(s.a)(x,2),M=C[0],P=C[1],$=Object(i.useState)(y(n.gridPlacements)),B=Object(s.a)($,2),z=B[0],T=B[1],G=Object(i.useState)(y()),H=Object(s.a)(G,2),E=H[0],A=H[1],F=Object(i.useState)({carrier:"horizontal",battleship:"horizontal",destroyer:"horizontal",submarine:"horizontal","patrol-boat":"horizontal"}),I=Object(s.a)(F,2),w=I[0],N=I[1],R={carrier:5,battleship:4,destroyer:3,submarine:3,"patrol-boat":2},L=Object(i.useState)("Please select and place all ships"),D=Object(s.a)(L,2),J=D[0],W=D[1],X=Object(i.useState)({}),q=Object(s.a)(X,2),K=q[0],Q=q[1],U=Object(i.useState)([]),V=Object(s.a)(U,2),Y=V[0],Z=V[1],_=function(){Z([])},ee=function(e){var t=g(Y.length),i=Object(o.a)({},n);i.placeShip(t,Y),_(),a(i),function(e){var t=Object(o.a)({},w);delete t[e],N(t),Q({})}(K)};Object(i.useEffect)((function(){M||T(y(n.gridPlacements))}),[n]);var te=Object(i.useState)(),ne=Object(s.a)(te,2),ie=ne[0],ae=ne[1];Object(i.useEffect)((function(){1===Y.length?ae(null):ae((function(){return ee}))}),[Y]),Object(i.useEffect)((function(){0===Object.keys(w).length&&P(!0)}),[w]);Object(i.useEffect)((function(){M&&m?W("It is the Player's Turn"):M&&!m&&W("It is the Computer's Turn")}),[m,M]);var ce=function(e,t){var n=Object(r.a)(z);n[e][t]=!0,T(n)},le=function(e,t){var n=Object(r.a)(E);n[e][t]=!0,A(n)},re=function(e){if(m){var t=f;!function(e){var t=Object(o.a)({},f);t.receiveAttack(e),S(t)}(e)}else{t=n;!function(e){var t=Object(o.a)({},n);t.receiveAttack(e),a(t)}(e)}t.gridPlacements[e]?m?le(e,"hit"):ce(e,"hit"):m?le(e,"miss"):ce(e,"miss"),v(!m)};Object(i.useEffect)((function(){m||setTimeout((function(){return re(function(e){for(var t=!1,n=null;!t;)n=Math.floor(100*Math.random()),e.shotsLanded[n]||e.shotsMissed[n]||(t=!0);return n}(n))}),0)}),[m]);var oe=Object(i.useState)(!1),se=Object(s.a)(oe,2),he=se[0],ue=se[1],de=Object(i.useState)(""),pe=Object(s.a)(de,2),fe=pe[0],Se=pe[1],be=function(e){Se("player"===e?"Player Wins :)":"Computer Wins :("),ue(!0)};Object(i.useEffect)((function(){M&&f.allShipsSunk()&&be("player")}),[n]),Object(i.useEffect)((function(){M&&n.allShipsSunk()&&be("computer")}),[f]);return Object(d.jsx)(O,{playerGrid:z,computerGrid:E,handleHit:function(e){if(m){var t=e.target.id;re(t)}},playerTurn:m,gameBegun:M,playerShips:w,rotateShips:function(e){var t=Object(o.a)({},w);for(var n in t)t[n]="horizontal"===t[n]?"vertical":"horizontal";N(t)},selectedShip:K,handleShipSelection:function(e){Q(e.target.id)},handleCellSelection:function(e){var t=k(e.target.id,R[K],w[K],z);Z(t||[parseInt(e.target.id)])},cellsSelected:Y,removeCellSelection:_,handleShipPlacement:ee,cellClickFunction:ie,gameMessage:J,modalActive:he,victoryMessage:fe,handleRestartGame:function(){a(u()),S(c()),T(y(n.gridPlacements)),A(y()),P(!1),N({carrier:"horizontal",battleship:"horizontal",destroyer:"horizontal",submarine:"horizontal","patrol-boat":"horizontal"}),v(!0),ue(!1)}})});var C=function(){return Object(d.jsx)(x,{})};l.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root"))}],[[28,1,2]]]);
//# sourceMappingURL=main.c8a37890.chunk.js.map