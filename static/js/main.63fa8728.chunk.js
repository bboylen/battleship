(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,function(e,t,n){"use strict";n.r(t);var i=n(1),c=n.n(i),a=n(9),l=n.n(a),r=(n(14),n(15),n(6)),o=n(4),s=n(2),h=n(7),u=function(){var e={},t=new Map,n={},i={};return{placeShip:function(n,i){var c,a=Object(h.a)(i);try{for(a.s();!(c=a.n()).done;){var l=c.value;e[l]=n,t.has(n)?t.set(n,[].concat(Object(r.a)(t.get(n)),[l])):t.set(n,[l])}}catch(o){a.e(o)}finally{a.f()}},receiveAttack:function(c){if(c in e){var a=e[c],l=t.get(a).findIndex((function(e){return e==c}));return i[c]=!0,a.hit(l)}n[c]=!0},allShipsSunk:function(){var e=!1;return t.forEach((function(t,n){!1===n.isSunk()&&(e=!0)})),!e},gridPlacements:e,shipIndexes:t,shotsMissed:n,shotsLanded:i}},d=(n(16),n(0)),p=function(){return Object(d.jsx)("div",{id:"header",children:Object(d.jsx)("h1",{children:"battleship"})})},f=(n(18),n(19),n(20),function(e){var t=e.cellData,n=e.handleHit,i=e.playerTurn,c=e.handleCellSelection,a=e.cellsSelected,l=e.removeCellSelection,r=e.cellClickFunction,o=e.gameBegun,s=t.id,h=t.containsShip,u=t.hit,p=t.miss;return Object(d.jsx)("div",{id:s,className:"".concat(h?"ship":""," ").concat(u?"hit":""," ").concat(p?"miss":""," ").concat(a.includes(s)?"hovered":"","\n        ").concat(1===a.length&&a[0]===s?"not-allowed":""),onMouseOver:o?null:c,onMouseLeave:o?null:l,onClick:o?!i||u||p?null:function(e){return n(e)}:r})}),S=function(e){return Object(d.jsx)("div",{id:"grid",children:e.grid.map((function(t){return Object(d.jsx)(f,{cellData:t,handleHit:e.handleHit,playerTurn:e.playerTurn,handleCellSelection:e.handleCellSelection,cellsSelected:e.cellsSelected,removeCellSelection:e.removeCellSelection,handleShipPlacement:e.handleShipPlacement,cellClickFunction:e.cellClickFunction,gameBegun:e.gameBegun})}))})},b=function(e){var t=e.playerTurn,n=!t;return Object(d.jsxs)("div",{id:"grid-container",children:[Object(d.jsx)(S,{grid:e.playerGrid,handleHit:e.handleHit,playerTurn:n,selectedShip:e.selectedShip,handleCellSelection:e.handleCellSelection,cellsSelected:e.cellsSelected,removeCellSelection:e.removeCellSelection,handleShipPlacement:e.handleShipPlacement,cellClickFunction:e.cellClickFunction,gameBegun:e.gameBegun}),e.gameBegun?Object(d.jsx)(S,{grid:e.computerGrid,handleHit:e.handleHit,playerTurn:t,cellsSelected:e.cellsSelected,gameBegun:e.gameBegun}):null]})},j=(n(21),function(e){return Object(d.jsx)("div",{className:"ship ".concat(e.orientation," ").concat(e.selectedShip===e.shipName?"selected":""),id:e.shipName,onClick:e.handleShipSelection})}),m=(n(22),function(e){return Object(d.jsxs)("div",{id:"controls",children:[Object(d.jsx)("div",{id:"text",children:Object(d.jsx)("p",{children:e.gameMessage})}),Object(d.jsx)("div",{id:"ship-container",children:Object.keys(e.playerShips).map((function(t){return Object(d.jsx)(j,{shipName:t,orientation:e.playerShips[t],selectedShip:e.selectedShip,handleShipSelection:e.handleShipSelection})}))}),e.gameBegun?null:Object(d.jsx)("div",{id:"button-container",children:Object(d.jsx)("button",{id:"rotate-ship-btn",onClick:e.rotateShips,children:"ROTATE SHIPS"})})]})}),v=(n(23),function(e){return Object(d.jsxs)("div",{id:"display-container",children:[Object(d.jsx)(p,{}),Object(d.jsx)(m,{playerShips:e.playerShips,rotateShips:e.rotateShips,selectedShip:e.selectedShip,handleShipSelection:e.handleShipSelection,gameBegun:e.gameBegun,gameMessage:e.gameMessage}),Object(d.jsx)(b,{handleHit:e.handleHit,playerGrid:e.playerGrid,computerGrid:e.computerGrid,playerTurn:e.playerTurn,gameBegun:e.gameBegun,selectedShip:e.selectedShip,handleCellSelection:e.handleCellSelection,cellsSelected:e.cellsSelected,removeCellSelection:e.removeCellSelection,handleShipPlacement:e.handleShipPlacement,cellClickFunction:e.cellClickFunction})]})}),O=function(e){var t=new Array(e).fill(null);return{length:e,hitArray:t,hit:function(e){t[e]="X"},isSunk:function(){return t.every((function(e){return"X"===e}))}}},g=function(){for(var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[],n=0;n<100;n++){var i={};i.id=n,e&&e[n]&&(i.containsShip=!0),t.push(i)}return t},k=function(e,t,n,i){var c=parseInt(e),a=[c],l=!0;if("horizontal"===n)switch(t){case 5:if(!e.match(/[0-5]$/)&&!e.match(/.[0-5]$/)||i[c].containsShip)l=!1;else for(var r=1;r<t;r++){if(i[c+r].containsShip){l=!1;break}a.push(c+r)}break;case 4:if(!e.match(/[0-6]$/)&&!e.match(/.[0-6]$/)||i[c].containsShip)l=!1;else for(var o=1;o<t;o++){if(i[c+o].containsShip){l=!1;break}a.push(c+o)}break;case 3:if(!e.match(/[0-7]$/)&&!e.match(/.[0-7]$/)||i[c].containsShip)l=!1;else for(var s=1;s<t;s++){if(i[c+s].containsShip){l=!1;break}a.push(c+s)}break;case 2:if(!e.match(/[0-8]$/)&&!e.match(/.[0-8]$/)||i[c].containsShip)l=!1;else for(var h=1;h<t;h++){if(i[c+h].containsShip){l=!1;break}a.push(c+h)}}else switch(t){case 5:if(!e.match(/^[0-9]$/)&&!e.match(/[1-5].$/)||i[c].containsShip)l=!1;else for(var u=1;u<t;u++){if(i[c+10*u].containsShip){l=!1;break}a.push(c+10*u)}break;case 4:if(!e.match(/^[0-9]$/)&&!e.match(/[0-6].$/)||i[c].containsShip)l=!1;else for(var d=1;d<t;d++){if(i[c+10*d].containsShip){l=!1;break}a.push(c+10*d)}break;case 3:if(!e.match(/^[0-9]$/)&&!e.match(/[0-7].$/)||i[c].containsShip)l=!1;else for(var p=1;p<t;p++){if(i[c+10*p].containsShip){l=!1;break}a.push(c+10*p)}break;case 2:if(!e.match(/^[0-9]$/)&&!e.match(/[0-8].$/)||i[c].containsShip)l=!1;else for(var f=1;f<t;f++){if(i[c+10*f].containsShip){l=!1;break}a.push(c+10*f)}}return!!l&&a},y=(n(24),function(){var e=Object(i.useState)(u()),t=Object(s.a)(e,2),n=t[0],c=t[1],a=Object(i.useState)(function(){var e=function(){for(var e=[],t=g(),n={},i=0,c=[5,4,3,3,2];i<c.length;i++){for(var a=c[i],l=!1,r=[];!l;){var o=Math.floor(100*Math.random()),s=Math.floor(2*Math.random())>0?"horizontal":"vertical";l=!!(r=k(o.toString(),a,s,t))}var u,d=Object(h.a)(r);try{for(d.s();!(u=d.n()).done;)n[u.value]=!0}catch(p){d.e(p)}finally{d.f()}t=g(n),e.push(r)}return e}(),t=O(5),n=O(4),i=O(3),c=O(3),a=O(2),l=u();return l.placeShip(t,e[0]),l.placeShip(n,e[1]),l.placeShip(i,e[2]),l.placeShip(c,e[3]),l.placeShip(a,e[4]),l}()),l=Object(s.a)(a,2),p=l[0],f=l[1],S=Object(i.useState)(!0),b=Object(s.a)(S,2),j=b[0],m=b[1],y=Object(i.useState)(!1),C=Object(s.a)(y,2),x=C[0],M=C[1],$=Object(i.useState)(g(n.gridPlacements)),B=Object(s.a)($,2),P=B[0],T=B[1],H=Object(i.useState)(g()),E=Object(s.a)(H,2),z=E[0],F=E[1],G=Object(i.useState)({carrier:"horizontal",battleship:"horizontal",destroyer:"horizontal",submarine:"horizontal","patrol-boat":"horizontal"}),I=Object(s.a)(G,2),w=I[0],A=I[1],N={carrier:5,battleship:4,destroyer:3,submarine:3,"patrol-boat":2},L=Object(i.useState)("Please select and place all ships"),D=Object(s.a)(L,2),J=D[0],X=D[1],R=Object(i.useState)({}),q=Object(s.a)(R,2),K=q[0],Q=q[1],U=Object(i.useState)([]),V=Object(s.a)(U,2),W=V[0],Y=V[1],Z=function(){Y([])},_=function(e){var t=O(W.length),i=Object(o.a)({},n);i.placeShip(t,W),Z(),c(i),function(e){var t=Object(o.a)({},w);delete t[e],A(t),Q({})}(K)};Object(i.useEffect)((function(){x||T(g(n.gridPlacements))}),[n]);var ee=Object(i.useState)(),te=Object(s.a)(ee,2),ne=te[0],ie=te[1];Object(i.useEffect)((function(){1===W.length?ie(null):ie((function(){return _}))}),[W]),Object(i.useEffect)((function(){0===Object.keys(w).length&&M(!0)}),[w]);Object(i.useEffect)((function(){x&&j?X("It is the Player's Turn"):x&&!j&&X("It is the Computer's Turn")}),[j,x]);var ce=function(e,t){var n=Object(r.a)(P);n[e][t]=!0,T(n)},ae=function(e,t){var n=Object(r.a)(z);n[e][t]=!0,F(n)},le=function(e){if(j){var t=p;!function(e){var t=Object(o.a)({},p);t.receiveAttack(e),f(t)}(e)}else{t=n;!function(e){var t=Object(o.a)({},n);t.receiveAttack(e),c(t)}(e)}t.gridPlacements[e]?j?ae(e,"hit"):ce(e,"hit"):j?ae(e,"miss"):ce(e,"miss"),m(!j)};Object(i.useEffect)((function(){j||setTimeout((function(){return le(function(e){for(var t=!1,n=null;!t;)n=Math.floor(100*Math.random()),e.shotsLanded[n]||e.shotsMissed[n]||(t=!0);return n}(n))}),750)}),[j]);var re=function(e){alert("gameover")};return Object(i.useEffect)((function(){x&&n.allShipsSunk()&&re()}),[n]),Object(i.useEffect)((function(){x&&p.allShipsSunk()&&re()}),[p]),Object(d.jsx)(v,{playerGrid:P,computerGrid:z,handleHit:function(e){if(j){var t=e.target.id;le(t)}},playerTurn:j,gameBegun:x,playerShips:w,rotateShips:function(e){var t=Object(o.a)({},w);for(var n in t)t[n]="horizontal"===t[n]?"vertical":"horizontal";A(t)},selectedShip:K,handleShipSelection:function(e){Q(e.target.id)},handleCellSelection:function(e){var t=k(e.target.id,N[K],w[K],P);Y(t||[parseInt(e.target.id)])},cellsSelected:W,removeCellSelection:Z,handleShipPlacement:_,cellClickFunction:ne,gameMessage:J})});var C=function(){return Object(d.jsx)(y,{})};l.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(C,{})}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.63fa8728.chunk.js.map